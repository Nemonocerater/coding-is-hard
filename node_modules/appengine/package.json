{
  "name": "appengine",
  "version": "0.3.0",
  "description": "Appengine client library for node.js",
  "author": {
    "name": "Google Inc."
  },
  "contributors": {
    "name": "Roberto Chinnici",
    "email": "rrch@google.com"
  },
  "main": "./lib/index",
  "repository": {
    "type": "git",
    "url": "https://github.com/googlecloudplatform/appengine-nodejs.git"
  },
  "license": "Apache 2",
  "dependencies": {
    "winston": "^0.8.1"
  },
  "devDependencies": {
    "istanbul": "^0.3.0",
    "jshint": "^2.5.2",
    "mocha": "^1.21.3",
    "tmp": "^0.0.24"
  },
  "scripts": {
    "lint": "jshint lib/*.js test/*.js",
    "test": "mocha --recursive --reporter spec",
    "cover": "istanbul cover _mocha -- --reporter spec"
  },
  "readme": "# appengine-nodejs\n\nAn experimental set of node.js libraries for interacting with App Engine specific services from within [Google App Engine Managed VMs](https://developers.google.com/appengine/docs/managed-vms/) using Custom Runtimes.\n\nTo get started, clone the [quickstart][3] project and follow the instructions there.\n\n## Usage\n\nThis library will only work inside App Engine Managed VMs, or with the Managed VM SDK.\n\nDeclare this library as a dependency in `package.json`:\n\n~~~~\n  \"dependencies\": {\n    \"appengine\": \"git://github.com/GoogleCloudPlatform/appengine-nodejs.git\",\n  }\n~~~~\n\nAdd a `Dockerfile` to the application with the following contents:\n\n~~~~\n  FROM google/nodejs-runtime\n~~~~\n\nThen, before calling functions in this library, http handlers need to make sure to call the `appengine.middleware.base` function with three arguments: the node.js request, the node.js response and a callback.\n\nFrameworks such as `express.js` do this automatically if you register that function as a middleware. Here's an example:\n\n~~~~\n  var appengine = require('appengine');\n  var express = require('express');\n\n  var app = express();\n  app.use(appengine.middleware.base);\n  // ... register any handlers...\n  app.listen(8080, '0.0.0.0');\n~~~~\n\n## APIs\n\nThis library currently supports a subset of the App Engine APIs available to the official runtimes such as Java or Python.\n\nAn application may use any other Google APIs, such as Google Cloud Storage or Google Calendar, e.g. via the [googleapis][1] or [gcloud-node][2] libraries:\n\n~~~~\n  \"dependencies\": {\n    \"googleapis\" : \"latest\"\n    \"gcloud\" : \"latest\"\n  }\n~~~~\n\nAll API functions provided by this library take as their last argument a callback, i.e. a function of the form `function(err, arg1, arg2, ...)`. The first argument is always an optional `Error` object (or `null` if there is no error). The subsequent arguments depend on the API function itself and are described below.\n\n### Logging\n\n##### appengine.logOneLine\n\n~~~~\n  appengine.logOneLine(request, message, level, function(err) { ... });\n~~~~\n\nLogs a message (a string) at the specified log level.\n\nLog records are buffered by default. They are flushed when `request.end()` is called or when the buffer grows too big or after a certain amount of time (currently, after 60 seconds).\n\nTwo caveats:\n\n - log flushes are never asynchronous, so for a flush to happen after 60 seconds your application must regularly call `appengine.logOneLine`\n - the `request.end()` method is never called on background requests\n\nThe `appengine.flushLogs` method can be used to flush the buffered logs at any time.\n\nValid log levels are:\n~~~~\n  appengine.LogLevel.DEBUG\n  appengine.LogLevel.INFO\n  appengine.LogLevel.WARNING\n  appengine.LogLevel.ERROR\n  appengine.LogLevel.CRITICAL\n~~~~\n\nThe callback is optional. Note that while most calls to `logOneLine` will return immediately, some may result in the buffer being flushed.\n\nThe following code snippet logs at the `INFO` level and ignores any logging errors:\n~~~~\n  appengine.logOneLine(request, 'this is a test', appengine.LogLevel.INFO);\n~~~~\n\nFor backward compatibility, the same function can be invoked without a log level, with or without a callback:\n\n~~~~\n  appengine.logOneLine(request, message, function(err) { ... });\n\n  appengine.logOneLine(request, message);\n~~~~\n\nIn this case, it logs the given message at the DEBUG log level.\n\n##### appengine.flushLogs\n\n~~~~\n  appengine.flushLogs(request, function(err) { ... });\n~~~~\n\nFlushes any buffered log records.\n\n### Memcache\n\n##### appengine.memcache.get\n\n~~~~\n  appengine.memcache.get(request, key, function(err, value) { ... });\n~~~~\n\nReads from memcache the value (a string) for a given key (also a string).\n\n##### appengine.memcache.set\n\n~~~~\n  appengine.memcache.set(request, key, value, function(err) { ... });\n~~~~\n\nWrites to memcache a value (a string) for a given key (also a string).\n\n### Task Queues\n\n##### appengine.taskqueue.add\n\n~~~~\n  appengine.taskqueue.add(request, taskOptions, function(err) { ... });\n~~~~\n\nAdd a task to a queue. `taskOptions` must be an object with the following properties:\n\n* `url`: a string, url to dispatch to, required\n* `queueName`: a string, queue name, optional\n* `taskName`: a string, task name, optional\n* `etaUsec`: a string, ETA in microseconds, e.g. `\"1000\"`, optional\n* `method`: http method to use, one of `\"get\"`, `\"post\"`, `\"put\"`, or `\"delete\"`, optional, defaults to `\"post\"`\n* `body`: a string, the body of the request, optional, for put and post methods only\n* `headers`: optional, an object containing http headers as property/value pairs\n\n### Modules\n\n##### appengine.modules.getHostname\n\n~~~~\n  appengine.modules.getHostname(request, module, version, instance, function(err, hostname) { ... });\n~~~~\n\nReturns the hostname (a string) to use to talk to the given module/version/instance (all strings, all required).\n\n### System\n\n##### appengine.system.getBackgroundRequest\n\n~~~~\n  appengine.system.getBackgroundRequest(request, function(err, backgroundRequest) { ... });\n~~~~\n\nReturns a new request-like object that can be used to make App Engine API calls in the background, i.e. outside a request handler.\n\nA common pattern is to call this API during a start request and store the returned request object for later use.\n\nApplication code should not assume any specific properties to be defined on the returned background request object.\n\n### Auth\n\n##### appengine.auth.getServiceAccountToken\n\n~~~~\n  appengine.auth.getServiceAccountToken(request, function(err, token) { ... });\n~~~~\n\nReturns an OAuth token for the service account for the VM as provided by the metadata server. `token` is an object with three properties:\n\n* `accessToken`: a string, the access token itself\n* `tokenType`: a string, the type of token returned, e.g. `\"Bearer\"`\n* `expiresIn`: a number, the time to expiration in seconds\n\n### Metadata\n\n##### appengine.metadata.getAttribute\n\n~~~~\n  appengine.metadata.getAttribute(request, name, function(err, value) { ... });\n~~~~\n\nReturns the value (a string) of the metadata attribute with the specified name (a string).\nFor example, to retrieve the `foo` instance attribute, the name to use is `\"instance/attributes/foo\"`.\n\n\n### Middleware\n\n##### appengine.middleware.base\n\n~~~~\n  appengine.middleware.base(request, response, function() { ... });\n~~~~\n\nA middleware function that extracts App Engine-specific information from request headers and environment properties and sets them into the request under `request.appengine`.\nThis function must be called by all http handlers that intend to make any App Engine API calls.\n\n[1]: https://www.npmjs.org/package/googleapis\n[2]: https://github.com/GoogleCloudPlatform/gcloud-node\n[3]: https://github.com/GoogleCloudPlatform/appengine-nodejs-quickstart\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/googlecloudplatform/appengine-nodejs/issues"
  },
  "homepage": "https://github.com/googlecloudplatform/appengine-nodejs",
  "_id": "appengine@0.3.0",
  "_shasum": "eb82d2d8d519cffb39da0f5954520c8994c3072d",
  "_resolved": "git://192.30.252.129/GoogleCloudPlatform/appengine-nodejs.git#431b733963bbadb42ce9545d2b5711bf1e8b7992",
  "_from": "appengine@git://192.30.252.129/GoogleCloudPlatform/appengine-nodejs.git"
}
